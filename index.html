<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="https://www.apachefriends.org/images/xampp-logo-ac950edf.svg"
    />
    <title>Document</title>
  </head>
  <body>

    
<!--     
<?php 
    session_start();

    class Book {
        private $title;
        private $author;
        private $genre;

        public function __construct($title, $author, $genre) {
            $this->title = $title;
            $this->author = $author;
            $this->genre = $genre;
        }

        public function getTitle() {
            return $this->title;
        }

        public function getAuthor() {
            return $this->author;
        }

        public function getGenre() {
            return $this->genre;
        }

        public function setTitle($title) {
            $this->title = $title;
        }

        public function setAuthor($author) {
            $this->title = $author;
        }

        public function setGenre($genre) {
            $this->title = $genre;
        }
    } 

    class Borrower {
        private $name;
        private $date;

        public function __construct($name, $date) {
            $this->name = $name;
            $this->date = $date;
        }

        public function getName() {
            return $this->name;
        }

        public function getDate() {
            return $this->date;
        }

        public function setName($name) {
            $this->name = $name;
        }

        public function setDate($date) {
            $this->date = $date;
        }
    }

    if (!isset($_SESSION['library'])) {
        $_SESSION['library'] = [];
    }

    if ($_SERVER['REQUEST_METHOD'] === 'POST' && $_POST['add']) {
        $title = $_POST['title'];
        $author = $_POST['author'];
        $genre = $_POST['genre'];
        $name = $_POST['borrower'];
        $date = $_POST['date'];

        if (!empty($title) && !empty($author) && !empty($genre) && !empty($name) && !empty($date)) {
            $book = new Book($title, $author, $genre);
            $borrower = new Borrower($name, $date);
            $_SESSION['library'][] = ['book' => $book, 'borrower' => $borrower];
        }

        header("location: index.php");
        exit();
    }

    if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['update'])) {
        $index = $_POST['index'];
        $_SESSION['library'][$index]['book']->setTitle($_POST['title']);
        $_SESSION['library'][$index]['book']->setAuthor($_POST['author']);
        $_SESSION['library'][$index]['book']->setGenre($_POST['genre']);
        $_SESSION['library'][$index]['borrower']->setName($_POST['borrower']);
        $_SESSION['library'][$index]['borrower']->setDate($_POST['date']);

        header("Location: index.php");
        exit();
    }

    if ($_SERVER['REQUEST_METHOD'] === 'POST' && $_POST['delete']) {
        $index = $_POST['index'];
        array_splice($_SESSION['library'], $index, 1);

        header("Location: index.php");
        exit();
    }

    if ($_SERVER['REQUEST_METHOD'] === 'POST' && $_POST['reset']) {
        $_SESSION['library'] = [];
        header("Location: index.php");
        exit();
    }

?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            background-color: pink;
        }

        h1 {
            padding: 10px;
            color: yellow;
            border: 2px solid black;
            width: 404px;
        }

        table, th, tr, td {
            border-collapse: collapse;
            border: 1px solid black;
            padding: 10px;
        }

        input {
            border-radius: 10px;
            border: 2px solid violet;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>Library Management System</h1>
    <form method="POST" action="index.php">
            <label>Title:</label>
        <input type="text" name="title" placeholder="Enter book title..." required><br><br>
            <label>Author:</label>
        <input type="text" name="author" placeholder="Enter book author..." required><br><br>
            <label>Genre:</label>
        <input type="text" name="genre" placeholder="Enter book genre..." required><br><br>
            <label>Borrower:</label>
        <input type="text" name="borrower" placeholder="Enter borrower name..." required><br><br>
            <label>Date:</label>
        <input type="date" name="date" required><br><br>
        <input type="submit" name="add" value="Submit"><br><br>
    </form>
    <?php if(!empty($_SESSION['library'])): ?>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>BOOK TITLE</th>
                <th>BOOK AUTHOR</th>
                <th>BOOK GENRE</th>
                <th>BORROWER NAME</th>
                <th>DATE</th>
                <th>ACTIONS</th>
            </tr>
        </thead>
        <tbody>
            <?php foreach($_SESSION['library'] as $index => $records): ?>
                <tr>
                    <form method="POST" action="index.php">
                        <td><?php echo $index + 1; ?></td>

                        <td>
                            <input type="text" name="title" value="<?php echo htmlspecialchars($records['book']->getTitle()) ?>" required>
                        </td>

                        <td>
                            <input type="text" name="author" value="<?php echo htmlspecialchars($records['book']->getAuthor()) ?>" required>
                        </td>

                        <td>
                            <input type="text" name="genre" value="<?php echo htmlspecialchars($records['book']->getGenre()) ?>" required>
                        </td>

                        <td>
                            <input type="text" name="borrower" value="<?php echo htmlspecialchars($records['borrower']->getName()) ?>"  required>
                        </td>

                        <td>
                           <?php echo htmlspecialchars($records['borrower']->getDate()) ?>
                        </td>

                        <td>
                            <input type="hidden" name="index" value="<?php echo $index ?>">
                            <input type="submit" name="update" value="Update" onclick="return alert('Record updated successfully!')">
                            <input type="submit" name="delete" value="Delete" onclick="return confirm('Are you sure you want to delete this record?')">
                        </td>
                    </form>
                </tr>
            <?php endforeach; ?>
        </tbody>
    </table><br>
    <?php else: ?>
        <h3>No records added yet.</h3> 
    <?php endif;?>
    <form method="POST" action="index.php">
        <input type="submit" name="reset" value="Reset" onclick="return confirm('Are you sure you want to reset all records?')">
    </form>
</body>
</html>
	  
	  
	  
	  
	
	  
	  
	  
	  
	  
<?php
session_start();

// Employee class
class Employee {
	private $name;
	private $position;
	private $dateOfEmployment;

	public function __construct($name, $position, $dateOfEmployment) {
		$this->name = $name;
		$this->position = $position;
		$this->dateOfEmployment = $dateOfEmployment;
	}

	public function getName() {
		return $this->name;
	}

	public function getPosition() {
		return $this->position;
	}

	public function getDateOfEmployment() {
		return $this->dateOfEmployment;
	}

	public function setName($name) {
		$this->name = $name;
	}

	public function setPosition($position) {
		$this->position = $position;
	}

	public function setDateOfEmployment($dateOfEmployment) {
		$this->dateOfEmployment = $dateOfEmployment;
	}

	private function getSalaryTable() {
		return [
			'Manager' => ['salary' => 7000, 'bonus' => 0.20],
			'Developer' => ['salary' => 5000, 'bonus' => 0.10],
			'Designer' => ['salary' => 4000, 'bonus' => 0.05],
			'Intern' => ['salary' => 2000, 'bonus' => 0.00],
		];
	}

	public function getMonthlySalary() {
		$table = $this->getSalaryTable();
		return $table[$this->position]['salary'];
	}

	public function getAnnualBonus() {
		$table = $this->getSalaryTable();
		return $this->getMonthlySalary() * 12 * $table[$this->position]['bonus'];
	}
}

// Initialize employee list
if (!isset($_SESSION['employees'])) {
	$_SESSION['employees'] = [];
}

// Add
if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['add'])) {
	$emp = new Employee($_POST['txtName'], $_POST['selPosition'], $_POST['txtDate']);
	$_SESSION['employees'][] = $emp;
	header("Location: index.php");
	exit();
}

// Update
if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['update'])) {
	$id = $_POST['id'];
	$_SESSION['employees'][$id]->setName($_POST['txtName']);
	$_SESSION['employees'][$id]->setPosition($_POST['selPosition']);
	$_SESSION['employees'][$id]->setDateOfEmployment($_POST['txtDate']);
	header("Location: index.php");
	exit();
}

// Delete
if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['delete'])) {
	$id = $_POST['id'];
	unset($_SESSION['employees'][$id]);
	$_SESSION['employees'] = array_values($_SESSION['employees']);
	header("Location: index.php");
	exit;
}
?>

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Document</title>
</head>
<body>
	<h1>Employee Management System</h1>
	<form method="POST">
		<label>Name:</label>
		<input type="text" name="txtName" placeholder="Enter your name" required><br><br>

		<label>Position:</label>
		<select name="selPosition">
			<option>Manager</option>
			<option>Developer</option>
			<option>Designer</option>
			<option>Intern</option>
		</select><br><br>

		<label>Date of Employment:</label>
		<input type="text" name="txtDate" placeholder="YYYY-MM-DD" required><br><br>

		<button type="submit" name="add">Add Employee</button>
	</form>

	<h2>Employee List</h2>
	<table>
		<tr>
			<th>ID</th>
			<th>Name</th>
			<th>Position</th>
			<th>Date Employed</th>
			<th>Monthly Salary</th>
			<th>Annual Bonus</th>
			<th>Actions</th>
		</tr>

		<?php foreach ($_SESSION['employees'] as $index => $emp): ?>
			<tr>
				<form method="POST">
					<td><?= $index + 1; ?></td>
					<td><input type="text" name="txtName" value="<?= htmlspecialchars($emp->getName()); ?>"></td>
					<td>
						<select name="selPosition">
							<?php
								$positions = ['Manager', 'Developer', 'Designer', 'Intern'];
								foreach ($positions as $pos) {
									$selected = $emp->getPosition() === $pos ? 'selected' : '';
									echo "<option value='$pos' $selected>$pos</option>";
								}
							?>
						</select>
					</td>
					<td><input type="text" name="txtDate" value="<?= htmlspecialchars($emp->getDateOfEmployment()); ?>" placeholder="YYYY-MM-DD"></td>
					<td>Php <?= number_format($emp->getMonthlySalary(), 2); ?></td>
					<td>Php <?= number_format($emp->getAnnualBonus(), 2); ?></td>
					<td>
						<input type="hidden" name="id" value="<?= $index; ?>">
						<button type="submit" name="update" onclick="return alert('Employee update successfully')">Update</button>
						<button type="submit" name="delete" onclick="return confirm('Are you sure you want to delete this employee?')">Delete</button>
					</td>
				</form>
			</tr>
		<?php endforeach; ?>
	</table>
</body>
</html>
	  -->
  </body>
</html>
