<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="https://www.apachefriends.org/images/xampp-logo-ac950edf.svg"
    />
    <title>Document</title>
  </head>
  <body>

    
<!--     
	<?php
	session_start();

	class Book {
		private $title;
		private $author;
		private $genre;

		public function __construct($title, $author, $genre) {
			$this->title = $title;
			$this->author = $author;
			$this->genre = $genre;
		}

		public function getTitle() {
			return $this->title;
		}

		public function getAuthor() {
			return $this->author;
		}

		public function getGenre() {
			return $this->genre;
		}

		public function setTitle($title) {
			$this->title = $title;
		}

		public function setAuthor($author) {
			$this->author = $author;
		}

		public function setGenre($genre) {
			$this->genre = $genre;
		}
	}

	class Borrower {
		private $name;

		public function __construct($name) {
			$this->name = $name;
		}

		public function getName() {
			return $this->name;
		}
	}

	if (!isset($_SESSION['library'])) {
		$_SESSION['library'] = [];
	}

	if ($_SERVER['REQUEST_METHOD'] === 'POST' && $_POST['add']) {
		$title = $_POST['title'];
		$author = $_POST['author'];
		$genre = $_POST['genre'];
		$name = $_POST['borrower'];

		if (!empty($title) && !empty($author) && !empty($name)  && !empty($genre)) {
			$book = new Book($title, $author, $genre);
			$borrower = new Borrower($name);
			$_SESSION['library'][] = ['book' => $book, 'borrower' => $borrower];
		}
		header("Location: index.php");
		exit();
	}
	

	if ($_SERVER['REQUEST_METHOD'] === 'POST' && $_POST['reset']) {
		$_SESSION['library'] = [];
		header("Location: index.php");
		exit();
	}


	if ($_SERVER['REQUEST_METHOD'] === 'POST' && $_POST['delete']) {
		$index = $_POST['index'];
		if (isset($_SESSION['library'][$index])) {
			array_splice($_SESSION['library'], $index, 1);
			header("Location: index.php");
			exit();
		}
	}
?>

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Document</title>
	<style>
		table, tr, th, td {
			border-collapse: collapse;
			border: 1px solid black;
			padding: 10px;
		}
	</style>
</head>
<body>
	<h2>Library Management System</h2>
	<form method="POST" action="index.php">
		<label>Book Title:</label>
		<input type="text" name="title" placeholder="Enter book title..." required><br><br>
		<label>Book Author:</label>
		<input type="text" name="author" placeholder="Enter book author..." required><br><br>
		<label>Book Genre:</label>
		<input type="text" name="genre" placeholder="Enter book genre..." required><br><br>
		<label>Borrower Name:</label>
		<input type="text" name="borrower" placeholder="Enter borrower name..." required><br><br>
		<input type="submit" name="add" value="Add Book">
	</form> 

	<h2>Record List</h2>
	<table>
		<thead>
			<tr>
				<th>ID</th>
				<th>BOOK TITLE</th>
				<th>BOOK AUTHOR</th>
				<th>BOOK GENRE</th>
				<th>BORROWER</th>
				<th>ACTIONS</th>
			</tr>
		</thead>
		<tbody>
				<?php foreach ($_SESSION['library'] as $index => $records):?>
					<tr>
						<form method="POST">
							<td><?php echo $index + 1; ?></td>

							<td>
								<input type="text" name="title" value="<?php echo htmlspecialchars($records['book']->getTitle())?>" required>
							</td>

							<td>
								<input type="text" name="author" value="<?php echo htmlspecialchars($records['book']->getAuthor())?>" required>
							</td>

							<td>
								<input type="text" name="genre" value="<?php echo htmlspecialchars($records['book']->getGenre())?>" required>
							</td>

							<td>
								<input type="text" name="borrower" value="<?php echo htmlspecialchars($records['borrower']->getName())?>" required>
							</td>

							<td>
								<input type="hidden" name="index" value="<?php echo $index ?>">
								<input type="submit" name="delete" value="Delete" onclick="return confirm('Are you sure you want to delete this record?')">
							</td>
						</form>
					</tr>
				<?php endforeach; ?>
		</tbody>
	</table><br>
	<form method="POST">
		<input type="submit" name="reset" value="Reset Records" onclick="return confirm('Are you sure you want to reset all records?')">
	</form>
</body>
</html>  
	  
	  
	  
	  
	
	  
	  
	  
	  
	  
	  
	  
	  
	  
	  <?php 
	session_start();

	class Person {
		private $name;
		private $age;

		public function __construct($name, $age) {
			$this->name = $name;
			$this->age = $age;
		}

		public function getName() {
			return $this->name;
		}

		public function setName($name) {
			$this->name = $name;
		}

		public function getAge() {
			return $this->age;
		}

		public function setAge($age) {
			$this->age = $age;
		}

		public function displayInfo() {
			return $this->getName() . ", Age: " . $this->getAge() . "<br>";
		}
	} 

	if (!isset($_SESSION['people'])) {
		$_SESSION['people'] = [];
	}

	if ($_SERVER['REQUEST_METHOD'] == "POST") {
		if(isset($_POST['action']) && $_POST['action'] == 'add') {
			$name = $_POST['name'];
			$age = $_POST['age'];

			if (!empty($name) && !empty($age) && $age > 0) {
				$newPerson = new Person($name, $age);
				$_SESSION['people'][] = $newPerson;
			}

			header("Location: testing.php");
			exit();
		}
	}

	if (isset($_GET['action'])) {
		$action = $_GET['action'];

		if ($action == 'edit' && isset($_GET['index']) && isset($_GET['name']) && isset($_GET['age'])) {
			$index = $_GET['index'];
			$name = $_GET['name'];
			$age = $_GET['age'];		

		if (isset($_SESSION['people'][$index])) {
			$_SESSION['people'][$index]->setName($name);
			$_SESSION['people'][$index]->setAge($age);
			$_SESSION['update_success'] = "Record updated successfully!";
		}

		header("Location: testing.php");
		exit();
	}

	if ($action == 'delete' && isset($_GET['index'])) {
		$index = $_GET['index'];

		if (isset($_SESSION['people'][$index])) {
			array_splice($_SESSION['people'], $index, 1);
		}
	}

		if ($action == 'clear') {
			unset($_SESSION['people']);
			header("Location: testing.php");
			exit();
		}
	}
?>


<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Finals</title>
	<style>
		table, th, td {
			border: 1px solid black;
			border-collapse: collapse;
			padding: 6px;
		}

		.debug {
			margin-top: 20px;
			padding: 10px;
			background-color: #f2f2f2;
			border: 1px solid #ddd;
		}
	</style>
</head>
<body>
	<h1>Simple Crud Operation</h1>

	<form method="post" action="testing.php">
		<input type="hidden" name="action" value="add">

		<label>Name:</label> <br>
		<input type="text" name="name" placeholder="Enter your name" required><br><br>

		<label>Age:</label> <br>
		<input type="number" name="age" placeholder="Enter your age" required><br><br>

		<input type="submit" value="Add Person">	  		  	
	</form>

	<h2>List of People</h2>

	<?php if (!empty($_SESSION['people'])): ?>
		<table>
			<thead>
				<tr>
					<th>Number</th>
					<th>Name</th>
					<th>Age</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<?php foreach ($_SESSION['people'] as $index => $person): ?>
					<tr>
					   <form method="get" action="testing.php">
					   	   <td><?php echo $index + 1; ?></td>

					   	   <td>
					   	   	  <input type="text" name="name" value="<?php echo htmlspecialchars($person->getName())?>" required>	
					   	   </td>	

					   	   <td>
					   	   	  <input type="number" name="age" value="<?php echo htmlspecialchars($person->getAge())?>" required>	
					   	   </td>

					   	   <td>
					   	   	  <input type="hidden" name="index" value="<?php echo $index; ?>">
					   	   	  <button type="submit" name="action" value="edit">Save</button>

					   	   	  <button type="submit" name="action" value="delete" onclick="return confirm('Are you sure you want to delete this record?')">Delete</button>
					   	   </td>
					   	</form>
					 </tr>
				  <?php endforeach; ?>	
			</tbody>
		</table> <br>

		<form method="get" action="testing.php" onsubmit="return confirm('Are you sure you want to clear all people?');">
			<input type="hidden" name="action" value="clear">
			<button type="submit">Clear All</button>
		</form>

	<?php else: ?>
		<p>No people added yet.</p>
	<?php endif; ?>

	<div class="debug">
		<h3>Debug: Current List of People in Session</h3>
			<?php
				if (count($_SESSION['people']) > 0) {
					echo "Current people in session: <br>";
					foreach ($_SESSION['people'] as $index => $person) {
						echo "Person $index: " . $person->displayInfo();
					}
				} else {
					echo "No record to show.";
				}
			?>
	</div>

	<?php if (isset($_SESSION['update_success'])): ?>
		<script type="text/javascript">
			alert("<?php echo $_SESSION['update_success']; ?>");
		</script>
		<?php unset($_SESSION['update_success']);?>
	<?php endif; ?>
</body>
</html>









	  

<?php
session_start();

// Employee class
class Employee {
	private $name;
	private $position;
	private $dateOfEmployment;

	public function __construct($name, $position, $dateOfEmployment) {
		$this->name = $name;
		$this->position = $position;
		$this->dateOfEmployment = $dateOfEmployment;
	}

	public function getName() {
		return $this->name;
	}

	public function getPosition() {
		return $this->position;
	}

	public function getDateOfEmployment() {
		return $this->dateOfEmployment;
	}

	public function setName($name) {
		$this->name = $name;
	}

	public function setPosition($position) {
		$this->position = $position;
	}

	public function setDateOfEmployment($dateOfEmployment) {
		$this->dateOfEmployment = $dateOfEmployment;
	}

	private function getSalaryTable() {
		return [
			'Manager' => ['salary' => 7000, 'bonus' => 0.20],
			'Developer' => ['salary' => 5000, 'bonus' => 0.10],
			'Designer' => ['salary' => 4000, 'bonus' => 0.05],
			'Intern' => ['salary' => 2000, 'bonus' => 0.00],
		];
	}

	public function getMonthlySalary() {
		$table = $this->getSalaryTable();
		return $table[$this->position]['salary'];
	}

	public function getAnnualBonus() {
		$table = $this->getSalaryTable();
		return $this->getMonthlySalary() * 12 * $table[$this->position]['bonus'];
	}
}

// Initialize employee list
if (!isset($_SESSION['employees'])) {
	$_SESSION['employees'] = [];
}

// Add
if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['add'])) {
	$emp = new Employee($_POST['txtName'], $_POST['selPosition'], $_POST['txtDate']);
	$_SESSION['employees'][] = $emp;
	header("Location: index.php");
	exit();
}

// Update
if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['update'])) {
	$id = $_POST['id'];
	$_SESSION['employees'][$id]->setName($_POST['txtName']);
	$_SESSION['employees'][$id]->setPosition($_POST['selPosition']);
	$_SESSION['employees'][$id]->setDateOfEmployment($_POST['txtDate']);
	header("Location: index.php");
	exit();
}

// Delete
if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['delete'])) {
	$id = $_POST['id'];
	unset($_SESSION['employees'][$id]);
	$_SESSION['employees'] = array_values($_SESSION['employees']);
	header("Location: index.php");
	exit;
}
?>

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Document</title>
</head>
<body>
	<h1>Employee Management System</h1>
	<form method="POST">
		<label>Name:</label>
		<input type="text" name="txtName" placeholder="Enter your name" required><br><br>

		<label>Position:</label>
		<select name="selPosition">
			<option>Manager</option>
			<option>Developer</option>
			<option>Designer</option>
			<option>Intern</option>
		</select><br><br>

		<label>Date of Employment:</label>
		<input type="text" name="txtDate" placeholder="YYYY-MM-DD" required><br><br>

		<button type="submit" name="add">Add Employee</button>
	</form>

	<h2>Employee List</h2>
	<table>
		<tr>
			<th>ID</th>
			<th>Name</th>
			<th>Position</th>
			<th>Date Employed</th>
			<th>Monthly Salary</th>
			<th>Annual Bonus</th>
			<th>Actions</th>
		</tr>

		<?php foreach ($_SESSION['employees'] as $index => $emp): ?>
			<tr>
				<form method="POST">
					<td><?= $index + 1; ?></td>
					<td><input type="text" name="txtName" value="<?= htmlspecialchars($emp->getName()); ?>"></td>
					<td>
						<select name="selPosition">
							<?php
								$positions = ['Manager', 'Developer', 'Designer', 'Intern'];
								foreach ($positions as $pos) {
									$selected = $emp->getPosition() === $pos ? 'selected' : '';
									echo "<option value='$pos' $selected>$pos</option>";
								}
							?>
						</select>
					</td>
					<td><input type="text" name="txtDate" value="<?= htmlspecialchars($emp->getDateOfEmployment()); ?>" placeholder="YYYY-MM-DD"></td>
					<td>Php <?= number_format($emp->getMonthlySalary(), 2); ?></td>
					<td>Php <?= number_format($emp->getAnnualBonus(), 2); ?></td>
					<td>
						<input type="hidden" name="id" value="<?= $index; ?>">
						<button type="submit" name="update" onclick="return alert('Employee update successfully')">Update</button>
						<button type="submit" name="delete" onclick="return confirm('Are you sure you want to delete this employee?')">Delete</button>
					</td>
				</form>
			</tr>
		<?php endforeach; ?>
	</table>
</body>
</html>
	  -->
  </body>
</html>
